/* ---------- Editors (share mono tokens) ---------- */
.editor{
  display:grid;
  grid-template-rows:auto 1fr;
  gap:6px;
}
.editor-header{
  font-weight:700;
  letter-spacing:.02em;
  text-transform:uppercase;
  font-size:12px;
  opacity:.8;
}

/* Use integer pixel row height to avoid selection gaps. */
:root{
  --editor-row: 20px;         /* pick an integer; adjust to taste */
}

.editor-body{
  display:grid;
  grid-template-columns:44px 1fr;
  gap:0;
  border:1px solid #555;
  border-radius:6px;
  overflow:hidden;
  background:#fff;
  height: var(--editor-h);
}

/* text column wrapper (prevents min-content shrinking & hosts the ruler) */
.ln-wrap{
  position:relative;
  height:100%;
  min-width:0;
}

/* --------- Gutter --------- */
.ln-gutter{
  background:#f0f0f0;
  color:#555;
  font-family: var(--mono-font);
  font-variant-numeric: tabular-nums;
  padding:6px 8px 6px 6px;
  height:100%;
  overflow:hidden;        /* no own scrollbar */
}
.ln{
  height: var(--editor-row);
  line-height: var(--editor-row);
}

/* --------- Textarea --------- */
.ln-textarea{
  box-sizing:border-box;
  width:100%;
  height:100%;
  resize:none;
  overflow:auto;
  scrollbar-gutter: stable;

  font-family: var(--mono-font);
  font-size: var(--mono-size);
  line-height: var(--editor-row);   /* integer px */
  padding:6px 8px;                  /* must match ruler */
  border:none;
  outline:none;

  background:#fff;
  color:#111;

  white-space: pre-wrap;
  word-break: break-word;
}

/* --------- Hidden ruler (mirror) --------- */
.ln-ruler{
  position:absolute;
  inset:0;
  box-sizing:border-box;
  padding:6px 8px;                  /* must match textarea padding */
  overflow:auto;                    /* same scroll box as textarea */
  scrollbar-gutter: stable;
  visibility:hidden;
  pointer-events:none;

  font-family: var(--mono-font);
  font-size: var(--mono-size);
  line-height: var(--editor-row);   /* integer px */
  white-space: pre-wrap;
  word-break: break-word;
}

@media (prefers-color-scheme: dark){
  .editor-body{ border-color:#444; background:#151515; }
  .ln-gutter{ background:#1e1e1e; color:#aaa; }
  .ln-textarea{ background:#0f0f0f; color:#e6e6e6; }
}
